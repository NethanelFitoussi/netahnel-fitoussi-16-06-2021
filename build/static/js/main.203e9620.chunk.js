(this["webpackJsonpreact-with-redux"]=this["webpackJsonpreact-with-redux"]||[]).push([[0],{42:function(e,t,a){e.exports=a(83)},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(17),i=a.n(c),o=(a(47),a(1)),s=a(2),u=a(5),l=a(4),p=(a(48),a(7)),m=(a(49),a(9)),d=a(8),h=a.n(d),v=a(13),f=function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"ACTIVE",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=a(10),y=a.n(g),b=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={items:[],metric:!0},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.favorite.map((function(t,a){return y.a.get("https://dataservice.accuweather.com/currentconditions/v1/".concat(t.id,"?apikey=U54qJgB86bLBZvylGJThkT61T94rJtGN")).then((function(a){console.log("res",a.data[0].Temperature.Imperial.Value),e.setState((function(e){return{items:[].concat(Object(p.a)(e.items),[{name:t.name,id:t.id,celcius:a.data[0].Temperature.Metric.Value,fahrenheit:a.data[0].Temperature.Imperial.Value,text:a.data[0].WeatherText}])}}))}))}))}},{key:"render",value:function(){var e=this;return n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},this.state.items.map((function(t,a){return n.a.createElement("div",{className:"col-md-4"},n.a.createElement("div",{className:"bloc"},n.a.createElement("div",null,n.a.createElement("button",{className:"delete",onClick:function(){return e.props.deleteFavorite({id:t.id})}},"X")),n.a.createElement("div",{class:"card-body"},n.a.createElement("h5",{class:"card-title"},t.name),n.a.createElement("p",{class:"card-text"},e.state.metric?t.celcius:t.fahrenheit,"\xb0",e.state.metric?"C":"F"),n.a.createElement("p",null,t.text))))})))))}}]),a}(r.Component),E=Object(m.b)((function(e){return{favorite:e.weatherReducer.favorite}}),{deleteFavorite:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"DELETE_FAVORITE",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(b),w=(a(72),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).changePage=function(e){r.props.activePage(e)},r.darkMode=function(e){r.props.darkMode(e)},r.state={},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"topnav"},n.a.createElement("div",{className:"left"},"Weather App"),n.a.createElement("div",{className:"right"},n.a.createElement("a",{onClick:function(){return e.darkMode(!e.props.dark)}},"Change Mode"),n.a.createElement("a",{className:"weather"===this.props.active?"active":"",onClick:function(){return e.changePage("weather")}},"Weather"),n.a.createElement("a",{className:"favorite"===this.props.active?"active":"",onClick:function(){return e.changePage("favorite")}},"Favorite")))}}]),a}(r.Component)),k=Object(m.b)((function(e){return{active:e.weatherReducer.active,dark:e.weatherReducer.dark}}),{activePage:f,darkMode:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"DARK",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(w),T=(a(73),a(22)),j=a(36),O=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).changeMetric=function(){r.setState({metric:!r.state.metric}),y.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(r.state.geolocation,"?apikey=U54qJgB86bLBZvylGJThkT61T94rJtGN&metric=").concat(r.state.metric,"s")).then((function(e){r.props.changeWeather(e.data)}))},r.convertDay=function(e){return new Date(e).toLocaleDateString([],{year:"numeric",month:"long",day:"numeric"})},r.state={name:"",latitude:"",longitude:"",geolocation:!1,items:"",city:"",metric:!0,citySelected:""},navigator.geolocation.getCurrentPosition((function(e){r._geoloc(e.coords.latitude,e.coords.longitude)})),r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){var e=this;this.state.geolocation||""===this.state.latitude||""===this.state.longitude||y.a.get("https://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey=U54qJgB86bLBZvylGJThkT61T94rJtGN&q=".concat(this.state.latitude,"%2C").concat(this.state.longitude)).then((function(t){e.setState({geolocation:t.data.Key,citySelected:t.data.ParentCity.EnglishName})})),this.state.geolocation&&""!==this.state.latitude&&""!==this.state.longitude&&(y.a.get("https://dataservice.accuweather.com/currentconditions/v1/".concat(this.state.geolocation,"?apikey=U54qJgB86bLBZvylGJThkT61T94rJtGN")).then((function(t){e.setState({latitude:"",longitude:""}),e.props.currentWeather(t.data)})),y.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(this.state.geolocation,"?apikey=U54qJgB86bLBZvylGJThkT61T94rJtGN&metric=").concat(this.state.metric)).then((function(t){e.props.changeWeather(t.data)})))}},{key:"_geoloc",value:function(e,t){this.setState({latitude:e,longitude:t})}},{key:"render",value:function(){var e=this;return n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"search-container"},n.a.createElement(j.ReactSearchAutocomplete,{items:this.state.items,onSearch:function(t,a){y.a.get("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=U54qJgB86bLBZvylGJThkT61T94rJtGN&q=".concat(t)).then((function(t){var a=[];t.data.forEach((function(e){var t={id:e.Key,name:e.LocalizedName};a.push(t)})),e.setState({items:a})}))},onSelect:function(t){y.a.get("https://dataservice.accuweather.com/currentconditions/v1/".concat(t.id,"?apikey=U54qJgB86bLBZvylGJThkT61T94rJtGN")).then((function(a){e.setState({latitude:"",longitude:"",geolocation:t.id,citySelected:t.name}),e.props.currentWeather(a.data)})),y.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t.id,"?apikey=U54qJgB86bLBZvylGJThkT61T94rJtGN&metric=").concat(e.state.metric)).then((function(t){e.props.changeWeather(t.data)}))},autoFocus:!0}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"container px-1 px-sm-4 py-5 mx-auto"},n.a.createElement("div",{className:"row d-flex justify-content-center"},n.a.createElement("div",{className:"card text-center pt-4 border-0"},n.a.createElement("h4",{className:"mb-0"},this.state.citySelected),n.a.createElement("button",{className:"button-change",onClick:function(){return e.changeMetric()}},n.a.createElement(T.b,null),this.state.metric?"\xb0F":"\xb0C"),n.a.createElement("button",{className:"add-favorite",onClick:function(){return e.props.addFavorite({id:e.state.geolocation,name:e.state.citySelected})}},n.a.createElement(T.a,null),"Add to favorite"),n.a.createElement("h2",{className:"large"},this.state.metric?this.props&&this.props.current&&this.props.current[0]&&this.props.current[0].Temperature.Metric.Value:this.props&&this.props.current&&this.props.current[0]&&this.props.current[0].Temperature.Imperial.Value,"\xb0",this.state.metric?this.props&&this.props.current&&this.props.current[0]&&this.props.current[0].Temperature.Metric.Unit:this.props&&this.props.current&&this.props.current[0]&&this.props.current[0].Temperature.Imperial.Unit),n.a.createElement("div",{className:"text-center mt-3 mb-4"},n.a.createElement("img",{className:"city",alt:"city",src:this.props&&this.props.current&&this.props.current[0]&&this.props.current[0].Temperature.Metric.Value<23?"https://www.employers.org/images/directory/newsletter_content/2020/September/bad_weather_blog_sml.jpg":"https://s7d2.scene7.com/is/image/TWCNews/sunshine_jpg-5goodjpg?wid=1250&hei=703&$wide-bg$"})),n.a.createElement("div",{className:"row d-flex px-3 mt-auto"},this.props.weather&&this.props.weather.DailyForecasts&&this.props.weather.DailyForecasts.map((function(t){return n.a.createElement("div",{className:"d-flex flex-column block first"},n.a.createElement("small",{className:"text-muted mb-0",id:"date"},e.convertDay(t.Date)),n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{className:"symbol",alt:"symbol",src:t.Temperature.Minimum.Value<23?"https://i.imgur.com/BeWfUuG.png":"https://i.imgur.com/Shrg84B.png"})),n.a.createElement("h6",null,n.a.createElement("strong",null,t.Temperature.Minimum.Value," - ",t.Temperature.Maximum.Value,"\xb0",t.Temperature.Maximum.Unit)))}))))))))}}]),a}(r.Component),N=Object(m.b)((function(e){return{weather:e.weatherReducer.weather,current:e.weatherReducer.current,favorite:e.weatherReducer.favorite,active:e.weatherReducer.active}}),{changeWeather:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"WEATHER",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},currentWeather:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"CURRENT",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},activePage:f,addFavorite:function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"FAVORITE",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(O),x=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return n.a.createElement("div",{className:this.props.dark?"theme-dark":""},n.a.createElement("div",{className:"container"},n.a.createElement(k,null),n.a.createElement("div",{className:"App container"},"weather"===this.props.active?n.a.createElement(N,null):n.a.createElement(E,null))))}}]),a}(r.Component),J=Object(m.b)((function(e){return{active:e.weatherReducer.active,dark:e.weatherReducer.dark}}),{})(x),R=a(11),C=(a(81),a(3)),B={weather:[],favorite:[],current:[],active:"weather",dark:!1},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEATHER":return Object(C.a)(Object(C.a)({},e),{},{weather:t.payload});case"CURRENT":return Object(C.a)(Object(C.a)({},e),{},{current:t.payload});case"FAVORITE":return Object(C.a)(Object(C.a)({},e),{},{favorite:[].concat(Object(p.a)(e.favorite),[t.payload])});case"DELETE_FAVORITE":return Object(C.a)(Object(C.a)({},e),{},{favorite:e.favorite.filter((function(e){return e.id!==t.payload.id}))});case"ACTIVE":return Object(C.a)(Object(C.a)({},e),{},{active:t.payload});case"DARK":return Object(C.a)(Object(C.a)({},e),{},{dark:t.payload});default:return e}},S=Object(R.c)({weatherReducer:M}),G=a(39),D=R.d,F=[G.a],W=Object(R.e)(S,D(R.a.apply(void 0,F)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(82);i.a.render(n.a.createElement(m.a,{store:W},n.a.createElement(n.a.StrictMode,null,n.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.203e9620.chunk.js.map